(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(l){if(l.ep)return;l.ep=!0;const n=t(l);fetch(l.href,n)}})();var I,f,oe,H,G,le,B,O={},ie=[],ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function w(e,_){for(var t in _)e[t]=_[t];return e}function ce(e){var _=e.parentNode;_&&_.removeChild(e)}function xe(e,_,t){var o,l,n,s={};for(n in _)n=="key"?o=_[n]:n=="ref"?l=_[n]:s[n]=_[n];if(arguments.length>2&&(s.children=arguments.length>3?I.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)s[n]===void 0&&(s[n]=e.defaultProps[n]);return A(e,s,o,l,null)}function A(e,_,t,o,l){var n={type:e,props:_,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++oe};return l==null&&f.vnode!=null&&f.vnode(n),n}function x(e){return e.children}function D(e,_){this.props=e,this.context=_}function N(e,_){if(_==null)return e.__?N(e.__,e.__.__k.indexOf(e)+1):null;for(var t;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?N(e):null}function se(e){var _,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,_=0;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return se(e)}}function J(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!F.__r++||G!==f.debounceRendering)&&((G=f.debounceRendering)||le)(F)}function F(){var e,_,t,o,l,n,s,u;for(H.sort(B);e=H.shift();)e.__d&&(_=H.length,o=void 0,l=void 0,s=(n=(t=e).__v).__e,(u=t.__P)&&(o=[],(l=w({},n)).__v=n.__v+1,j(u,n,l,t.__n,u.ownerSVGElement!==void 0,n.__h!=null?[s]:null,o,s??N(n),n.__h),pe(o,n),n.__e!=s&&se(n)),H.length>_&&H.sort(B));F.__r=0}function ue(e,_,t,o,l,n,s,u,a,d){var r,h,c,i,p,$,v,g=o&&o.__k||ie,k=g.length;for(t.__k=[],r=0;r<_.length;r++)if((i=t.__k[r]=(i=_[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"?A(null,i,null,null,i):Array.isArray(i)?A(x,{children:i},null,null,null):i.__b>0?A(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null){if(i.__=t,i.__b=t.__b+1,(c=g[r])===null||c&&i.key==c.key&&i.type===c.type)g[r]=void 0;else for(h=0;h<k;h++){if((c=g[h])&&i.key==c.key&&i.type===c.type){g[h]=void 0;break}c=null}j(e,i,c=c||O,l,n,s,u,a,d),p=i.__e,(h=i.ref)&&c.ref!=h&&(v||(v=[]),c.ref&&v.push(c.ref,null,i),v.push(h,i.__c||p,i)),p!=null?($==null&&($=p),typeof i.type=="function"&&i.__k===c.__k?i.__d=a=fe(i,a,e):a=ae(e,i,c,g,p,a),typeof t.type=="function"&&(t.__d=a)):a&&c.__e==a&&a.parentNode!=e&&(a=N(c))}for(t.__e=$,r=k;r--;)g[r]!=null&&(typeof t.type=="function"&&g[r].__e!=null&&g[r].__e==t.__d&&(t.__d=de(o).nextSibling),ve(g[r],g[r]));if(v)for(r=0;r<v.length;r++)he(v[r],v[++r],v[++r])}function fe(e,_,t){for(var o,l=e.__k,n=0;l&&n<l.length;n++)(o=l[n])&&(o.__=e,_=typeof o.type=="function"?fe(o,_,t):ae(t,o,o,l,o.__e,_));return _}function ae(e,_,t,o,l,n){var s,u,a;if(_.__d!==void 0)s=_.__d,_.__d=void 0;else if(t==null||l!=n||l.parentNode==null)e:if(n==null||n.parentNode!==e)e.appendChild(l),s=null;else{for(u=n,a=0;(u=u.nextSibling)&&a<o.length;a+=1)if(u==l)break e;e.insertBefore(l,n),s=n}return s!==void 0?s:l.nextSibling}function de(e){var _,t,o;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(_=e.__k.length-1;_>=0;_--)if((t=e.__k[_])&&(o=de(t)))return o}return null}function we(e,_,t,o,l){var n;for(n in t)n==="children"||n==="key"||n in _||M(e,n,null,t[n],o);for(n in _)l&&typeof _[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||t[n]===_[n]||M(e,n,_[n],t[n],o)}function K(e,_,t){_[0]==="-"?e.setProperty(_,t??""):e[_]=t==null?"":typeof t!="number"||ke.test(_)?t:t+"px"}function M(e,_,t,o,l){var n;e:if(_==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(_ in o)t&&_ in t||K(e.style,_,"");if(t)for(_ in t)o&&t[_]===o[_]||K(e.style,_,t[_])}else if(_[0]==="o"&&_[1]==="n")n=_!==(_=_.replace(/Capture$/,"")),_=_.toLowerCase()in e?_.toLowerCase().slice(2):_.slice(2),e.l||(e.l={}),e.l[_+n]=t,t?o||e.addEventListener(_,n?X:Q,n):e.removeEventListener(_,n?X:Q,n);else if(_!=="dangerouslySetInnerHTML"){if(l)_=_.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_!=="width"&&_!=="height"&&_!=="href"&&_!=="list"&&_!=="form"&&_!=="tabIndex"&&_!=="download"&&_ in e)try{e[_]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&_[4]!=="-"?e.removeAttribute(_):e.setAttribute(_,t))}}function Q(e){return this.l[e.type+!1](f.event?f.event(e):e)}function X(e){return this.l[e.type+!0](f.event?f.event(e):e)}function j(e,_,t,o,l,n,s,u,a){var d,r,h,c,i,p,$,v,g,k,S,C,z,T,E,b=_.type;if(_.constructor!==void 0)return null;t.__h!=null&&(a=t.__h,u=_.__e=t.__e,_.__h=null,n=[u]),(d=f.__b)&&d(_);try{e:if(typeof b=="function"){if(v=_.props,g=(d=b.contextType)&&o[d.__c],k=d?g?g.props.value:d.__:o,t.__c?$=(r=_.__c=t.__c).__=r.__E:("prototype"in b&&b.prototype.render?_.__c=r=new b(v,k):(_.__c=r=new D(v,k),r.constructor=b,r.render=$e),g&&g.sub(r),r.props=v,r.state||(r.state={}),r.context=k,r.__n=o,h=r.__d=!0,r.__h=[],r._sb=[]),r.__s==null&&(r.__s=r.state),b.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=w({},r.__s)),w(r.__s,b.getDerivedStateFromProps(v,r.__s))),c=r.props,i=r.state,r.__v=_,h)b.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(b.getDerivedStateFromProps==null&&v!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(v,k),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(v,r.__s,k)===!1||_.__v===t.__v){for(_.__v!==t.__v&&(r.props=v,r.state=r.__s,r.__d=!1),r.__e=!1,_.__e=t.__e,_.__k=t.__k,_.__k.forEach(function(P){P&&(P.__=_)}),S=0;S<r._sb.length;S++)r.__h.push(r._sb[S]);r._sb=[],r.__h.length&&s.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(v,r.__s,k),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,i,p)})}if(r.context=k,r.props=v,r.__P=e,C=f.__r,z=0,"prototype"in b&&b.prototype.render){for(r.state=r.__s,r.__d=!1,C&&C(_),d=r.render(r.props,r.state,r.context),T=0;T<r._sb.length;T++)r.__h.push(r._sb[T]);r._sb=[]}else do r.__d=!1,C&&C(_),d=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++z<25);r.state=r.__s,r.getChildContext!=null&&(o=w(w({},o),r.getChildContext())),h||r.getSnapshotBeforeUpdate==null||(p=r.getSnapshotBeforeUpdate(c,i)),E=d!=null&&d.type===x&&d.key==null?d.props.children:d,ue(e,Array.isArray(E)?E:[E],_,t,o,l,n,s,u,a),r.base=_.__e,_.__h=null,r.__h.length&&s.push(r),$&&(r.__E=r.__=null),r.__e=!1}else n==null&&_.__v===t.__v?(_.__k=t.__k,_.__e=t.__e):_.__e=He(t.__e,_,t,o,l,n,s,a);(d=f.diffed)&&d(_)}catch(P){_.__v=null,(a||n!=null)&&(_.__e=u,_.__h=!!a,n[n.indexOf(u)]=null),f.__e(P,_,t)}}function pe(e,_){f.__c&&f.__c(_,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(o){o.call(t)})}catch(o){f.__e(o,t.__v)}})}function He(e,_,t,o,l,n,s,u){var a,d,r,h=t.props,c=_.props,i=_.type,p=0;if(i==="svg"&&(l=!0),n!=null){for(;p<n.length;p++)if((a=n[p])&&"setAttribute"in a==!!i&&(i?a.localName===i:a.nodeType===3)){e=a,n[p]=null;break}}if(e==null){if(i===null)return document.createTextNode(c);e=l?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i,c.is&&c),n=null,u=!1}if(i===null)h===c||u&&e.data===c||(e.data=c);else{if(n=n&&I.call(e.childNodes),d=(h=t.props||O).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!u){if(n!=null)for(h={},p=0;p<e.attributes.length;p++)h[e.attributes[p].name]=e.attributes[p].value;(r||d)&&(r&&(d&&r.__html==d.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(we(e,c,h,l,u),r)_.__k=[];else if(p=_.props.children,ue(e,Array.isArray(p)?p:[p],_,t,o,l&&i!=="foreignObject",n,s,n?n[0]:t.__k&&N(t,0),u),n!=null)for(p=n.length;p--;)n[p]!=null&&ce(n[p]);u||("value"in c&&(p=c.value)!==void 0&&(p!==e.value||i==="progress"&&!p||i==="option"&&p!==h.value)&&M(e,"value",p,h.value,!1),"checked"in c&&(p=c.checked)!==void 0&&p!==e.checked&&M(e,"checked",p,h.checked,!1))}return e}function he(e,_,t){try{typeof e=="function"?e(_):e.current=_}catch(o){f.__e(o,t)}}function ve(e,_,t){var o,l;if(f.unmount&&f.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||he(o,null,_)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(n){f.__e(n,_)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(l=0;l<o.length;l++)o[l]&&ve(o[l],_,t||typeof e.type!="function");t||e.__e==null||ce(e.__e),e.__=e.__e=e.__d=void 0}function $e(e,_,t){return this.constructor(e,t)}function Ce(e,_,t){var o,l,n;f.__&&f.__(e,_),l=(o=typeof t=="function")?null:t&&t.__k||_.__k,n=[],j(_,e=(!o&&t||_).__k=xe(x,null,[e]),l||O,O,_.ownerSVGElement!==void 0,!o&&t?[t]:l?null:_.firstChild?I.call(_.childNodes):null,n,!o&&t?t:l?l.__e:_.firstChild,o),pe(n,e)}I=ie.slice,f={__e:function(e,_,t,o){for(var l,n,s;_=_.__;)if((l=_.__c)&&!l.__)try{if((n=l.constructor)&&n.getDerivedStateFromError!=null&&(l.setState(n.getDerivedStateFromError(e)),s=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,o||{}),s=l.__d),s)return l.__E=l}catch(u){e=u}throw e}},oe=0,D.prototype.setState=function(e,_){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=w({},this.state),typeof e=="function"&&(e=e(w({},t),this.props)),e&&w(t,e),e!=null&&this.__v&&(_&&this._sb.push(_),J(this))},D.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),J(this))},D.prototype.render=x,H=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B=function(e,_){return e.__v.__b-_.__v.__b},F.__r=0;var R,y,W,Y,V=0,ye=[],L=[],Z=f.__b,ee=f.__r,_e=f.diffed,te=f.__c,ne=f.unmount;function me(e,_){f.__h&&f.__h(y,e,V||_),V=0;var t=y.__H||(y.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({__V:L}),t.__[e]}function ge(e){return V=1,Ne(be,e)}function Ne(e,_,t){var o=me(R++,2);if(o.t=e,!o.__c&&(o.__=[t?t(_):be(void 0,_),function(u){var a=o.__N?o.__N[0]:o.__[0],d=o.t(a,u);a!==d&&(o.__N=[d,o.__[1]],o.__c.setState({}))}],o.__c=y,!y.u)){var l=function(u,a,d){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter(function(c){return c.__c});if(r.every(function(c){return!c.__N}))return!n||n.call(this,u,a,d);var h=!1;return r.forEach(function(c){if(c.__N){var i=c.__[0];c.__=c.__N,c.__N=void 0,i!==c.__[0]&&(h=!0)}}),!(!h&&o.__c.props===u)&&(!n||n.call(this,u,a,d))};y.u=!0;var n=y.shouldComponentUpdate,s=y.componentWillUpdate;y.componentWillUpdate=function(u,a,d){if(this.__e){var r=n;n=void 0,l(u,a,d),n=r}s&&s.call(this,u,a,d)},y.shouldComponentUpdate=l}return o.__N||o.__}function Se(e,_){var t=me(R++,3);!f.__s&&Pe(t.__H,_)&&(t.__=e,t.i=_,y.__H.__h.push(t))}function Te(){for(var e;e=ye.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(U),e.__H.__h.forEach(q),e.__H.__h=[]}catch(_){e.__H.__h=[],f.__e(_,e.__v)}}f.__b=function(e){y=null,Z&&Z(e)},f.__r=function(e){ee&&ee(e),R=0;var _=(y=e.__c).__H;_&&(W===y?(_.__h=[],y.__h=[],_.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=L,t.__N=t.i=void 0})):(_.__h.forEach(U),_.__h.forEach(q),_.__h=[])),W=y},f.diffed=function(e){_e&&_e(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(ye.push(_)!==1&&Y===f.requestAnimationFrame||((Y=f.requestAnimationFrame)||Ee)(Te)),_.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==L&&(t.__=t.__V),t.i=void 0,t.__V=L})),W=y=null},f.__c=function(e,_){_.some(function(t){try{t.__h.forEach(U),t.__h=t.__h.filter(function(o){return!o.__||q(o)})}catch(o){_.some(function(l){l.__h&&(l.__h=[])}),_=[],f.__e(o,t.__v)}}),te&&te(e,_)},f.unmount=function(e){ne&&ne(e);var _,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(o){try{U(o)}catch(l){_=l}}),t.__H=void 0,_&&f.__e(_,t.__v))};var re=typeof requestAnimationFrame=="function";function Ee(e){var _,t=function(){clearTimeout(o),re&&cancelAnimationFrame(_),setTimeout(e)},o=setTimeout(t,100);re&&(_=requestAnimationFrame(t))}function U(e){var _=y,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),y=_}function q(e){var _=y;e.__c=e.__(),y=_}function Pe(e,_){return!e||e.length!==_.length||_.some(function(t,o){return t!==e[o]})}function be(e,_){return typeof _=="function"?_(e):_}var Ae=0;function m(e,_,t,o,l,n){var s,u,a={};for(u in _)u=="ref"?s=_[u]:a[u]=_[u];var d={type:e,props:a,key:t,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ae,__source:l,__self:n};if(typeof e=="function"&&(s=e.defaultProps))for(u in s)a[u]===void 0&&(a[u]=s[u]);return f.vnode&&f.vnode(d),d}function De({text:e,addTodo:_,setTodos:t,todos:o}){return m(x,{children:m("div",{class:"text-2xl flex flex-row gap-2",children:[m("button",{class:"material-symbols-outlined p-1 px-3 h-full self-center border-r-2 cursor-pointer text-gray-400",style:{borderColor:"#aaa2"},onClick:()=>{_()},children:"add"}),m("div",{class:"text w-full p-1",children:e}),m("button",{onClick:()=>{confirm("This will remove all todos marked as done")&&t(o.filter(n=>!n.done))},class:"material-symbols-outlined self-center p-1 px-3 justify-center content-center flex border-l-2 cursor-pointer text-gray-400",style:{borderColor:"#aaa2"},children:"delete"})]})})}function Le({done:e}){return m(x,{children:m("div",{class:"checkbox "+(e&&"done"||"")})})}function Ue({todo:e,todos:_,setTodos:t}){const[o,l]=ge(e.done||!1);return m(x,{children:m("div",{onClick:()=>{t(_.map(n=>n.id==e.id?{...e,done:!o}:n)),l(!o)},class:"p-2 border-b-1 border-b flex flex-row gap-3",style:{borderBottomColor:"#aaa2"},children:[m(Le,{done:o||!1}),m("div",{class:"text max-w",style:{color:"#eeee"},children:e.text})]})})}function Oe({todos:e,setTodos:_}){return m(x,{children:m("div",{class:"todos flex flex-col gap-1 ",children:e.map(t=>m(x,{children:m(Ue,{todo:t,todos:e,setTodos:_})}))})})}function Fe(){let e=JSON.parse(localStorage.getItem("tk_todos")||"[]")||[],[_,t]=ge(e);Se(()=>{localStorage.setItem("tk_todos",JSON.stringify(_))},[_]);function o(){let l=prompt("Add new todo");if(!l)return;let n={id:Date.now().toString(36),text:l,done:!1};t([..._,n])}return m(x,{children:[m(De,{addTodo:o,text:"Todo keeper",setTodos:t,todos:_}),m(Oe,{todos:_,setTodos:t})]})}Ce(m(Fe,{}),document.getElementById("app"));
